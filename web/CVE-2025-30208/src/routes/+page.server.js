export const load = async ({ fetch }) => {
  try {
    // Fetch articles from API
    const response = await fetch('/api/news?limit=10');
    if (!response.ok) {
      throw new Error('Failed to fetch articles');
    }
    
    const data = await response.json();
    
    return {
      articles: data.articles,
      total: data.total,
      hasMore: data.hasMore,
      meta: {
        title: 'Modern News - Latest Updates',
        description: 'Stay informed with the latest news from around the world'
      }
    };
  } catch (err) {
    // Return empty state if API fails
    return {
      articles: [],
      total: 0,
      hasMore: false,
      meta: {
        title: 'Modern News - Latest Updates',
        description: 'Stay informed with the latest news from around the world'
      }
    };
  }
};
